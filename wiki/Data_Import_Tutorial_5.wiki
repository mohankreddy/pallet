#summary Data Import Tutorial 5[Final Document for Data Import Section]

= Introduction =
This tutorial is in the continuation of Data_Import_Tutorial 1,2,3,4. This is the last 
tutorial which completes the Data Import Section of the Mallet.
 * Feature Count Pipe
 * Feature Value String 2 Feature Vector
 * Token Sequence 2 Feature Vector Sequence
 * Feature Vector Sequence 2 Feature Vectors
 * Filter Empty Feature Vector
 * Instance List Trim Features By Count
 * Noop
 * Pipe
 * PrintInput
 * Print Token Sequence Features
 * Save Data In Source
 * Selective SGML 2 Token Sequence
 * Simple Tagger Sentence 2 String Tokenization
 * Token 2 Feature Vector
 * Token Sequence 2 Token Instances
 * Token Sequence Parse Feature String
 * Augmentable Feature Vector Add Conjunction



==Feature Count Pipe ==
This pipe is used to prune the features which have low count.It is used in order to save the memory which could have been occupied by low count features.This class supports a simpler method that makes two passes over the data : one to collect statistics and create an augumented "stop list",and secondly to actually create instances.

===Implementation===

 * 1) FeatureCountPipe(): This is a simple constructor with no parameters which creates the instance of FeatureCountPipe.

 * 2)FeatureCountPipe(Alphabet datalphabet,Alphabet targetAlphabet): User can supply data alphabet and target alphabet explicity .

===Methods===

 * 1)void addPrunedWordsToStoplist(SimpleTokenizer tokenizer, int minimumCount): Add all pruned words to the internal stoplist of a SimpleTokenizer.

 * 2)Alphabet getPrunedAlphabet(int minimumcount): Return a new Alphabet that contains only features at or above the specified limit

 * 3)void writeCommonWords(java.io.File commonfile,int totalwords): List the most common words ,for addition to a stop file.

 * 4)void writePrunedWords(java.io.File prunedfile,int minimumcount): Write a list of features that do not occur at or above the specified cutoff to the pruned file,one per file. 

 * 5)Instance pipe(Instance instance): Method used to process the data.

===Sample Code===

{{{
import cc.mallet.pipe.*;
import cc.mallet.types.*;
import java.io.*;

public class ImportExample200 {
	static Pipe pipe=null;
	
	public static void main(String args[])
	{
         SimpleTokenizer st=new SimpleTokenizer(1);
		
   String trainingdata="on the plains of  africa the lions123  roar the";
      Instance i=new Instance(trainingdata,"africa","Instance-1",null);
	Input2CharSequence i2cs=new Input2CharSequence();
	Instance i1=i2cs.pipe(i);
				
  SGML2TokenSequence cs2ts=new SGML2TokenSequence();
		 Instance i2=cs2ts.pipe(i1);
			 
  TokenSequence2FeatureSequence ts2fs=new TokenSequence2FeatureSequence();
		 Instance i3=ts2fs.pipe(i2);
				 
FeatureCountPipe fcp=new FeatureCountPipe(i3.getDataAlphabet(),i3.getTargetAlphabet());->1
		Instance i6=fcp.pipe(i3);--->2
		File f=new File("f200.txt");--->3
		try
		{
		fcp.writePrunedWords(f, 2);---->4
		}
		catch(Exception e)
		{
			System.out.println(e);
		}
		}
                }
}}}

 * 1) An instance of Feature Count Pipe is created with Data Alphabet and Target Alphabet of the previous pipe(TokenSequence2FeatureSequence in this case).
 * 2)An instance (i6) is generated which contains the data processed by FeatureCountPipe.
 * 3)A file is created which contains the pruned words.
 * 4)writePrunedWords is called with value 2. It means the words which doesn't occur more than 2 times will be pruned.

===Output===
{{{
1)The file f200.txt will contains 
on
of
africa
lions
roar
}}}
These all words doesn't occur more than two times in the raw data so will be pruned from feature set.

==Feature Value String 2 Feature Vector==
It is simple pipe which converts the Feature Value String 2 Feature Vector.

===Implementation===

 * 1)FeatureValueString2FeatureVector(): It is no argument constructor which simply creates an instance of FeatureValueString2FeatureVector.

 * 2)FeatureValueString2FeatureVector(Alphabet alphabet): If user wants to give Alphabet  externally then should use this constructor.

===Sample code===
{{{

import cc.mallet.pipe.*;
import cc.mallet.types.*;

public class ImportExample901 {
	static Pipe pipe=null;
	
	
	public static void main(String args[])
	{
		
		
  String trainingdata="width=60 height=10 length=20 width=80";-------->1
  Instance i=new Instance(trainingdata,"africa","Instance-1",null);
  FeatureValueString2FeatureVector i2cs=new FeatureValueString2FeatureVector();----->2
	Instance i1=i2cs.pipe(i);
	PrintInputAndTarget piat=new PrintInputAndTarget();
	Instance i5=piat.pipe(i1);
		
	}

}
}}}
 * 1)The feature value string is used as the training set.
 * 2) An instance of FeatureValueString2FeatureVector is created.

===Output===
The Feature Value String is converted int Feature Vector.
{{{
name: Instance-1
input: width(0)=140.0(Two occurences of the width is added)

height(1)=10.0

length(2)=20.0

target: africa

}}}
==Token Sequence 2 Feature Vector Sequence==
It is pipe which take input as Token Sequence of Instances and convert it into Feature 
Vector Sequence.

===Implementation===

 * 1)TokenSequence2FeatureVectorSequence():

 * 2)TokenSequence2FeatureVectorSequence(Alphabet dataDict):

 * 3)TokenSequence2FeatureVectorSequence(Alphabet dataDict, boolean binary, boolean augmentable): 

 * 4)TokenSequence2FeatureVectorSequence(boolean binary, boolean augmentable): 

dataDict: If user explicity wants to provide data Alphabet.
augmentable: It it is true than augmentable feature vector is created.

===Sample Code===

{{{

import cc.mallet.pipe.*;
import cc.mallet.types.*;

public class ImportExample54{
	static Pipe pipe=null;
	
	
	public static void main(String args[])
	{
		
 String trainingdata="<abc> on the plains of </abc> africa the <a> lions123 has roared</a> life ";
	Instance i=new Instance(trainingdata,"africa","Instance-1",null);
	Input2CharSequence i2cs=new Input2CharSequence();
	Instance i1=i2cs.pipe(i);
	SGML2TokenSequence cs2ts=new SGML2TokenSequence();
	Instance i2=cs2ts.pipe(i1);
	Target2LabelSequence t2fs=new Target2LabelSequence();
	Instance i8=t2fs.pipe(i2);
TokenSequence2FeatureVectorSequence ts2fvs=new TokenSequence2FeatureVectorSequence();--->1
	Instance i6=ts2fvs.pipe(i8);
	PrintInputAndTarget piat=new PrintInputAndTarget();
	Instance i5=piat.pipe(i6);	
	
	}
}

}}} 

 * 1)An instance of TokenSequence2FeatureVectorSequence is created.

===Output===
{{{
name: Instance-1
input: cc.mallet.types.FeatureVectorSequence@1ffb8dc------>Token sequence is converted 
0:                                                         into feature Vector Sequence
1: 
2: 
3: 
4: 
5: 
6: 
7: 
8: 
9: 

target: 0: abc (0)
1: abc (0)
2: abc (0)
3: abc (0)
4: O (1)
5: O (1)
6: a (2)
7: a (2)
8: a (2)
9: O (1)
}}}

==Feature Vector Sequence 2 Feature Vectors==
It is the pipe which converts the Feature Vector Sequence to Feature Vectors. The previous pipe (TokenSequence2FeatureVectorSequence) converts the token sequence to feature vector sequence and this pipe than subsequently converts the given Feature Vector Sequence to Feature Vectors.So given an instance with a Feature Vector Sequence in the data field ,it break up the sequence into the individual feature vectors producing one feature vector per instance.

===Implementation===

 * 1)FeatureVectorSequence2FeatureVectors(): It simply creates an instance of FeatureVectorSequence2FeatureVectors pipe.

===Method===
 * 1)Iterator<Instance> newIteratorFrom(java.util.Iterator<Instance> inputIterator): Take in input as an Instance iterator and return the Instance Iterator whose instances are already processed through FeatureVectorSequence2FeatureVectors pipe.

===Sample Code===

The instances which is passed through TokenSequence2FeatureVectorSequence is added to the InstanceList. Then an iterator which is used to iterate the previous InstanceList is passed to the newIteratorFrom method of the FeatureVectorSequence2FeatureVectors pipe. These methods returns the iterator which contains the individual feature vectors producing one feature vector per instance.

===Output===
Output contains individual feature vectors per instance.
